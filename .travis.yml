---
language: java

sudo: required

services:
  - docker

before_install:
  - docker pull lukasmartinelli/hadolint
  - docker pull koalaman/shellcheck:stable

jobs:
  include:
    - stage: "Syntax"
      name: "Syntax checking"
      script: docker run --rm -i lukasmartinelli/hadolint hadolint - < src/main/Dockerfile
    -
      script: docker run -v "$(pwd)":/mnt koalaman/shellcheck:stable src/main/*sh
    - stage: "IntegrationTests"
      name: "Integration tests"
      script: mvn verify
